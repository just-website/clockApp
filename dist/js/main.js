!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);const i="http://worldtimeapi.org/api/timezone";let s=[];class r{static getTimeZones(){return s.length?Promise.resolve(s):fetch(i).then(t=>t.json()).then(t=>s=t).catch(t=>reject(t))}static filterTimeZones(t){return r.getTimeZones().then(e=>e.filter(e=>e.toLowerCase().includes(t)).slice(0,5))}static getCurrentTime(t){return fetch(`${i}/${t}`).then(t=>t.json()).catch(t=>console.log(t))}}class o{constructor(){this.inputElement=document.querySelector(".js-input"),this.promptElement=document.querySelector(".js-prompt"),this.locationsList=[],this.promptElement.style.display="none",this.init()}init(){this.inputElement.addEventListener("input",this.inputListener(event)),this.promptElement.addEventListener("click",t=>{this.inputElement.value=t.target.dataset.value,this.emitEvent(this.inputElement.value)}),this.inputElement.addEventListener("keydown",t=>{"Enter"===t.key&&this.locationsList.length&&([this.inputElement.value]=this.locationsList,this.emitEvent(this.inputElement.value))})}setPromt(t){t.length&&(this.promptElement.innerHTML="",t.forEach(t=>{this.promptElement.innerHTML+=this.setLocationItem(t)}))}setLocationItem(t){return`\n            <div class="input__field-item" data-value="${t}">${t}</div>\n        `}emitEvent(t){this.inputElement.dispatchEvent(new CustomEvent("setLocation",{detail:t})),this.promptElement.style.display="none"}inputListener(){return t=>{t.target.value?r.filterTimeZones(t.target.value).then(t=>{t.length?(this.locationsList=t,this.setPromt(this.locationsList),this.promptElement.style.display="block"):(this.promptElement.style.display="none",this.locationsList=[])}):this.promptElement.style.display="none"}}}const c="";class l{constructor(t){this.timezone=t.timezone,this.startTime=t.datetime.slice(0,19),this.currentTime=new Date(this.startTime),this.mode="digital",this.template=this.getTemplate(),this.init()}init(){setInterval(()=>{this.setNewTime(null),this.template.dispatchEvent(new Event("update"))},1e3)}setNewTime(t){t||this.currentTime.setSeconds(this.currentTime.getSeconds()+1)}getTemplate(){return"digital"===this.mode?this.digitalTemplate:c}get hours(){return this.parseTime(this.currentTime.getHours())}get minutes(){return this.parseTime(this.currentTime.getMinutes())}get seconds(){return this.parseTime(this.currentTime.getSeconds())}get city(){return this.timezone.split("/")[1]}parseTime(t){let e=String(t);return 1===e.length&&(e="0"+e),e}get digitalTemplate(){const t=document.createElement("div");return t.classList.add("clock-wrapper"),t.innerHTML=`\n            <div class="clock">\n                <div class="clock-hours">${this.hours}</div>\n                :\n                <div class="clock-minutes">${this.minutes}</div>\n                :\n                <div class="clock-seconds">${this.seconds}</div>\n            </div>\n            <div class="clock-name">\n                ${this.city}\n            </div>\n        `,t}}function a(t,e,n,i,s,r,o){try{var c=t[r](o),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(i,s)}new class{constructor(){this.cityInput=new o,this.location="",this.controls=document.querySelector(".js-controls"),this.clockList=[],this.clockArea=document.querySelector(".js-clock-container"),this.init()}init(){this.cityInput.inputElement.addEventListener("setLocation",t=>{this.location=t.detail}),this.controls.addEventListener("click",t=>{const e=t.target;this.controlEvent(e)})}controlEvent(t){t.classList.contains("js-btn-add")&&this.addClock()}addClock(){var t,e=this;return(t=function*(){if(e.location){const t=yield r.getCurrentTime(e.location),n=new l(t);n.template.addEventListener("update",()=>e.render()),e.clockList.push(n),e.render(),e.cityInput.inputElement.value="",e.location=""}},function(){var e=this,n=arguments;return new Promise((function(i,s){var r=t.apply(e,n);function o(t){a(r,i,s,o,c,"next",t)}function c(t){a(r,i,s,o,c,"throw",t)}o(void 0)}))})()}render(){this.clockArea.innerHTML="",this.clockList.forEach(t=>{this.clockArea.appendChild(t.getTemplate())})}}}]);